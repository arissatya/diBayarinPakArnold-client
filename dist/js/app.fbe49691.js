(function(t){function e(e){for(var a,c,r=e[0],o=e[1],u=e[2],l=0,f=[];l<r.length;l++)c=r[l],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&f.push(s[c][0]),s[c]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);m&&m(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==s[o]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={app:0},i=[];function c(t){return r.p+"js/"+({thanks:"thanks"}[t]||t)+"."+{thanks:"a570af03"}[t]+".js"}function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[],n=s[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=s[t]=[e,a]}));e.push(n[2]=a);var i,o=document.createElement("script");o.charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.src=c(t);var u=new Error;i=function(e){o.onerror=o.onload=null,clearTimeout(l);var n=s[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",u.name="ChunkLoadError",u.type=a,u.request=i,n[1](u)}s[t]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:o})}),12e4);o.onerror=o.onload=i,document.head.appendChild(o)}return Promise.all(e)},r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var m=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),s=n.n(a);s.a},"037c":function(t,e,n){},1:function(t,e){},3475:function(t,e,n){"use strict";var a=n("8414"),s=n.n(a);s.a},"3c69":function(t,e,n){},"4aa4":function(t,e,n){"use strict";var a=n("037c"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],c=(n("034f"),n("2877")),r={},o=Object(c["a"])(r,s,i,!1,null,null,null),u=o.exports,l=(n("d3b7"),n("8c4f")),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container border rounded",attrs:{id:"containerColor"}},[n("div",{staticClass:"position-sticky sticky-top colini"},[!0===t.alert.isOn?n("Alert",{attrs:{message:t.alert.message}}):t._e(),t.isCheckout?n("Checkout",{on:{close:t.closeCheckout}}):t._e(),n("h5",{},[t._v("DIBAYARIN PAK ARNOLD")]),n("h1",[n("i",{staticClass:"fas fa-money-bill"}),t._v(" "+t._s(t.moneyInRupiah)+" ")]),n("ShoppingCart",{on:{checkout:t.openCheckout}})],1),n("div",{staticClass:"row"},t._l(t.items,(function(t){return n("ItemCard",{key:t.id,attrs:{item:t}})})),1)])},f=[],d=(n("4e82"),n("8055")),h=n.n(d),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-lg-4 col-md-6 col-sm-6 mt-3"},[n("div",{staticClass:"card"},[n("img",{staticClass:"card-img-top",attrs:{src:t.item.image_url,alt:"images"}}),n("div",{staticClass:"card-body"},[n("h5",{staticClass:"card-title",attrs:{id:"bigger"}},[t._v(t._s(t.item.name))]),n("div",{attrs:{id:"smaller"}},[n("div",{staticClass:"col"},[n("div",{staticClass:"row"},[t._m(0),n("div",{staticClass:"col"},[t._v(" "+t._s(t.priceInRupiah)+" ")])])]),n("div",{staticClass:"col"},[n("div",{staticClass:"row"},[t._m(1),n("div",{staticClass:"col"},[t._v(" "+t._s(t.item.stock)+" ")])])])]),n("div",{staticClass:"m-1"},[n("a",{staticClass:"btn btn-dark",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.add(e)}}},[n("i",{staticClass:"fas fa-cart-plus"}),t._v(" add to cart!")])])])])])},v=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-5"},[n("b",[t._v("PRICE")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-5"},[n("b",[t._v("STOCK")])])}],C=(n("b0c0"),{name:"ItemCard",props:["item"],methods:{add:function(){var t={id:this.item.id,name:this.item.name,price:this.item.price,stock:this.item.stock};this.socket.emit("itemChanged",t)}},computed:{priceInRupiah:function(){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(this.item.price)}},mounted:function(){this.socket=h.a.connect("https://dibayarinpakarnold.herokuapp.com/")}}),_=C,b=(n("4aa4"),Object(c["a"])(_,p,v,!1,null,"da2c7782",null)),I=b.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container col-lg-12 col-md-8 col-sm-12 col-xs-12 border rounded"},[t._m(0),n("div",{staticClass:"row"},[n("div",{staticClass:"col-4"},[n("b",[t._v("items :")]),t._v(" "+t._s(t.totalItems)+" pc(s) ")]),n("div",{staticClass:"col-4"},[n("b",[t._v("total :")]),t._v(" "+t._s(t.totalPriceInRupiah)+" ")]),n("div",{staticClass:"col-4"},[n("b",{on:{click:t.checkOut}},[n("i",{staticClass:"fas fa-cash-register"}),t._v(" checkout ")])])])])},g=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container mt-2"},[n("b",[n("i",{staticClass:"fas fa-shopping-cart fa-lg"}),t._v(" shopping cart")])])}],y={name:"ShoppingCart",data:function(){return{}},methods:{checkOut:function(){this.$emit("checkout")}},computed:{itemsInCart:function(){return this.$store.state.itemsInCart},totalItems:function(){return this.$store.state.totalItems},totalPriceInRupiah:function(){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(this.$store.state.totalPrice)}}},E=y,O=Object(c["a"])(E,k,g,!1,null,null,null),T=O.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"alertpos"}},[n("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[n("b",[n("i",{staticClass:"fas fa-exclamation-circle fa-2x"}),t._v(" "+t._s(t.message))])])])},R=[],$={name:"Alert",data:function(){return{}},props:["message"]},S=$,A=(n("3475"),Object(c["a"])(S,w,R,!1,null,"14dba0df",null)),P=A.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"checkout"}},[n("div",{staticClass:"row border"},[n("div",{staticClass:"col"},[t._m(0),t._m(1),t._l(t.items,(function(t){return n("CheckoutList",{key:t.id,staticClass:"rounded",attrs:{item:t}})})),n("div",{staticClass:"row",attrs:{id:"bigger"}},[n("div",{staticClass:"col"},[t._v("SUBTOTAL")]),n("div",{staticClass:"col"},[n("b",[t._v(t._s(t.sumInRupiah))])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[t.items.length>=1?n("h1",{staticClass:"btn btn-dark",on:{click:t.checkout}},[t._m(2)]):t._e(),n("h1",{staticClass:"btn btn-danger",on:{click:t.close}},[n("b",[t._v(" cancel ")])])])])],2)])])},N=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h4",[n("b",[t._v("YOUR ITEM LIST")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[t._v("ITEM")]),n("div",{staticClass:"col"},[t._v("HARGA")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b",[n("i",{staticClass:"fas fa-money-bill-wave"}),t._v(" CHECKOUT !!")])}],j=(n("4160"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bgcol"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[t._v(t._s(t.item.name))]),n("div",{staticClass:"col"},[t._v(t._s(t.moneyInRupiah))])])])}),L=[],x={name:"CheckoutList",props:["item"],computed:{moneyInRupiah:function(){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(this.item.price)}}},M=x,F=(n("a2ad"),Object(c["a"])(M,j,L,!1,null,"6e056eb1",null)),Y=F.exports,U={name:"Checkout",data:function(){return{total:0}},methods:{close:function(){this.$emit("close")},checkout:function(){this.$store.dispatch("checkout")}},components:{CheckoutList:Y},computed:{items:function(){return this.$store.state.itemsInCart},sumInRupiah:function(){var t=this.$store.state.itemsInCart,e=0;return t.forEach((function(t){e+=t.price})),new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(e)}}},H=U,K=(n("d31e"),Object(c["a"])(H,D,N,!1,null,"f65a8838",null)),B=K.exports,G={name:"ItemList",data:function(){return{isCheckout:!1}},components:{ItemCard:I,ShoppingCart:T,Alert:P,Checkout:B},methods:{openCheckout:function(){this.isCheckout=!0},closeCheckout:function(){this.isCheckout=!1},newChange:function(t){this.$store.dispatch("addToChart",t)}},created:function(){this.$store.dispatch("fetchItems")},computed:{items:function(){var t=this.$store.state.items;return t.sort((function(t,e){return t.id-e.id}))},moneyInRupiah:function(){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(this.$store.state.MONEY)},alert:function(){return this.$store.state.alert}},mounted:function(){var t=this;this.socket=h.a.connect("https://dibayarinpakarnold.herokuapp.com/"),this.socket.on("init",(function(){console.log("CLIENT CONNECTED IN ITEMLIST")})),this.socket.on("newChange",(function(e){t.newChange(e)}))}},J=G,q=(n("f69e"),Object(c["a"])(J,m,f,!1,null,"041f7c6f",null)),z=q.exports;a["a"].use(l["a"]);var Q=[{path:"/",name:"ItemList",component:z},{path:"/thanks",name:"Thanks",component:function(){return n.e("thanks").then(n.bind(null,"aa78"))}}],V=new l["a"]({mode:"history",base:"/",routes:Q}),W=V,X=(n("4795"),n("2f62")),Z=n("bc3a"),tt=n.n(Z),et=tt.a.create({baseURL:"https://dibayarinpakarnold.herokuapp.com/"});a["a"].use(X["a"]);var nt=new X["a"].Store({state:{items:[],MONEY:1e9,itemsInCart:[],totalPrice:0,totalItems:0,alert:{isOn:!1,message:""}},mutations:{SET_ITEMS:function(t,e){t.items=e},ADD_TO_CART:function(t,e){t.itemsInCart.push(e),t.MONEY-=e.price,t.totalPrice+=e.price,t.totalItems=t.itemsInCart.length},ALERT:function(t,e){t.alert={isOn:!0,message:e},setTimeout((function(n){t.alert={isOn:!1,message:e}}),3e3)},RESET_SHOP_CART:function(t){t.MONEY=1e9,t.itemsInCart=[],t.totalPrice=0,t.totalItems=0}},actions:{fetchItems:function(t){et({method:"GET",url:"/"}).then((function(e){var n=e.data;t.commit("SET_ITEMS",n)}))["catch"]((function(t){console.log(t)}))["finally"]((function(t){console.log("FETCHED")}))},updateItem:function(t,e){console.log(e),et({method:"PUT",url:"/"+e.id,data:{stock:e.stock-1}}).then((function(e){e.data;t.dispatch("fetchItems")}))["catch"]((function(e){console.log(e),t.commit("ALERT","fail occur")}))["finally"]((function(t){console.log("what?")}))},addToChart:function(t,e){this.state.MONEY-e.price<0?t.commit("ALERT","INSUFFICIENT MONEY!"):e.stock<=0?t.commit("ALERT","ITEM OUT OF STOCK!"):(t.commit("ADD_TO_CART",e),t.dispatch("updateItem",e))},checkout:function(t,e){W.push("/thanks")},reset:function(t){t.commit("RESET_SHOP_CART")}}});a["a"].config.productionTip=!1,new a["a"]({router:W,store:nt,render:function(t){return t(u)}}).$mount("#app")},8414:function(t,e,n){},"85ec":function(t,e,n){},9264:function(t,e,n){},a2ad:function(t,e,n){"use strict";var a=n("3c69"),s=n.n(a);s.a},d31e:function(t,e,n){"use strict";var a=n("fb61"),s=n.n(a);s.a},f69e:function(t,e,n){"use strict";var a=n("9264"),s=n.n(a);s.a},fb61:function(t,e,n){}});
//# sourceMappingURL=app.fbe49691.js.map